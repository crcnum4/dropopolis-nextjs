(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[451],{22422:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/new/self",function(){return c(94347)}])},74874:function(c,b,a){"use strict";var d=a(26042),e=a(85893);a(67294),b.Z=function(a){return(0,e.jsx)("form",{style:(0,d.Z)({},a.style),className:a.className||"flex flex-col text-center w-full mb-6 max-w-4xl",onSubmit:function(b){b.preventDefault(),a.onSubmit(b)},children:a.children})}},74703:function(c,b,a){"use strict";var d=a(26042),e=a(85893),f=a(67294),g={container:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",minWidth:"200px",borderRadius:"5px",overflow:"hidden",flexWrap:"wrap",flexDirection:"row"},error:{color:"red",fontWeight:"bold",paddingRight:5,paddingLeft:5,paddingTop:2,paddingBottom:2,margin:"0px 0px 2px 0px"}};b.Z=function(a){return(0,e.jsxs)(f.Fragment,{children:[a.error?(0,e.jsx)("p",{style:g.error,children:a.error}):null,(0,e.jsx)("div",{style:(0,d.Z)({},a.style),className:"flex flex-wrap flex-row m-2",children:a.children})]})}},81753:function(c,b,a){"use strict";var d=a(26042),e=a(85893),f=a(67294),g={input:{color:"#000",backgroundColor:"#eee",padding:5,fontSize:18,borderColor:"black",borderWidth:1,width:"100%",flex:1,height:"auto",minWidth:"100px",borderRadius:"0.75rem",margin:"0.50rem 0"},container:{flexDirection:"row",justifyContent:"center",alignItems:"center",width:"100%"},inputError:{color:"#000",backgroundColor:"#eee",padding:5,fontSize:18,borderColor:"red",borderWidth:2,width:"60%",height:"auto",flex:1},error:{color:"red",fontWeight:"bold",paddingRight:5,paddingTop:2,paddingBottom:3,paddingLeft:5}};b.Z=function(a){var h=a.type||"text",b=(0,e.jsx)("input",{style:a.error?(0,d.Z)({},a.errorStyle):(0,d.Z)({},a.style),className:a.error?a.errorClassName||"p-2 m-1 flex-1 border-red-500 border rounded-md":a.className||"p-2 m-1 flex-1 border rounded-md",id:a.id,type:h,placeholder:a.placeholder,onChange:a.onChange,required:a.disabled,value:a.value,accept:a.accept,multiple:a.multiple,disabled:a.disabled,min:a.min,max:a.max}),c=(0,e.jsx)("p",{style:g.error,children:a.error});return a.label?(0,e.jsxs)(f.Fragment,{children:[(0,e.jsxs)("div",{style:g.container,children:[(0,e.jsx)("label",{htmlFor:a.id,children:a.label}),b]}),a.error?c:null]}):(0,e.jsxs)(f.Fragment,{children:[b,a.error?c:null]})}},94347:function(p,e,a){"use strict";a.r(e),a.d(e,{default:function(){return ah}});var f,h,i,q,c=a(47568),r=a(14924),s=a(26042),t=a(69396),j=a(34051),d=a.n(j),u=a(85893),v=a(96938),w=a(68155),x=a(67294),y=JSON.parse('{"name":"The Future","symbol":"FDROP","description":"A real city in the Metaverse, built by & for YOU!","externalUrl":"http://dropopolis.com","properties":{"files":[{"type":"IMAGE","uri":"https://www.dropopolis.io/dropopolis_home/background_e.png"}],"creators":[{"address":"G3rsKbhnAhxrbDFYpvBEGcrtyhpoUggtVosQRKPn8tAa","share":100}]},"attributes":[{"name":"background","value":"transparent"},{"name":"environment","value":"future city"}],"mint":"TST32LiaGNVeUwVid7ssRMgibtRjuGmZaEYT8W8S4PGr"}'),z=a(11012),A=function(){return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("hr",{}),(0,u.jsx)("h2",{className:"text-3xl font-bold my-4",children:"Documentation"}),(0,u.jsx)("h3",{className:"text-2xl font-bold my-3",children:"JSON File Keys"}),(0,u.jsx)("p",{children:"These keys are supported and recognized by the REE Network. Keys in red are required and will be verified."}),(0,u.jsx)("p",{children:"You can include as much additional data in the json file you wish however Dropopolis may not display the data."}),(0,u.jsxs)("ul",{className:"my-2 border p-3 pl-6 list-disc",children:[(0,u.jsx)("li",{className:"text-red-700",children:"name: name of the NFT"}),(0,u.jsx)("li",{children:"symbol: Optional shorthand symbol for the NFT"}),(0,u.jsx)("li",{children:"description: A discription of the NFT"}),(0,u.jsx)("li",{children:"externalUrl: externalUrl related to the NFT usually an organization website"}),(0,u.jsxs)("li",{children:[(0,u.jsx)("span",{className:"text-red-700",children:"properties: an object with the following supported keys"}),(0,u.jsx)("ul",{className:"ml-3 list-disc",children:(0,u.jsxs)("li",{children:[(0,u.jsx)("span",{className:"text-red-700",children:"files: An array of objects with the following minimum keys"}),(0,u.jsxs)("ul",{className:"ml-3 list-disc",children:[(0,u.jsxs)("li",{className:"text-red-700",children:["type: supported values: IMAGE | VIDEO | FILE ","->"," a Drop must have at least one IMAGE file"]}),(0,u.jsx)("li",{className:"text-red-700",children:"uri: public URI of the file."})]})]})})]}),(0,u.jsxs)("li",{children:["attributes: array of objects with the following keys:",(0,u.jsxs)("ul",{className:"ml-3 list-disc",children:[(0,u.jsx)("li",{children:"name: attribute name name"}),(0,u.jsx)("li",{children:"value: the value for this property the NFT has."})]})]})]}),(0,u.jsx)("h3",{className:"text-2xl my-3",children:"Example Json"}),(0,u.jsx)(z.Z,{language:"json",customStyle:{fontSize:".9em"},children:JSON.stringify(y,null,2)})]})},B=a(14428),C=a(74874),D=a(74703),E=a(81753),F=function(a){var b=a.query,d=(a.error,a.loading,a.onSubmit),e=a.onUpdate,c=function(a){e(a.target.id,a.target.value)};return(0,u.jsxs)(C.Z,{onSubmit:d,children:[(0,u.jsxs)(D.Z,{children:[(0,u.jsx)(E.Z,{placeholder:"NFT Name",id:"name",value:b.name,required:!0,onChange:c}),(0,u.jsx)(E.Z,{placeholder:"Symbol",id:"symbol",value:b.symbol,onChange:c})]}),(0,u.jsx)(D.Z,{children:(0,u.jsx)(E.Z,{placeholder:"URL for NFT Metadata JSON File",id:"uri",value:b.uri,onChange:c,required:!0,type:"url"})}),(0,u.jsx)(D.Z,{children:(0,u.jsx)(E.Z,{placeholder:"Resale Fee as a percentage",id:"resaleFee",value:b.resaleFee,onChange:c,required:!0,type:"number",min:0,max:95})}),(0,u.jsx)(B.Z,{style:{marginLeft:"0.75rem",marginTop:"1rem"},children:"Submit"})]})},G=a(828),H=a(48764).Buffer,I=(h=(0,c.Z)(d().mark(function a(b,c){var e,f,g,h;return d().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e=[H.from("ree-metadata"),c.toBuffer(),b.toBuffer(),],a.t0=G.Z,a.next=4,w.nh.findProgramAddress(e,c);case 4:return a.t1=a.sent,g=(f=(0,a.t0)(a.t1,2))[0],h=f[1],a.abrupt("return",g);case 9:case"end":return a.stop()}},a)})),function(a,b){return h.apply(this,arguments)}),J=a(43029),K=a(13511),L={readonly:function(a){return{pubkey:a,isSigner:!1,isWritable:!1}},writable:function(a){return{pubkey:a,isSigner:!1,isWritable:!0}},signOnly:function(a){return{pubkey:a,isSigner:!0,isWritable:!0}},full:function(a){return{pubkey:a,isSigner:!0,isWritable:!0}}},M=(i=(0,c.Z)(d().mark(function a(b,c,e){var f,g,h,i;return d().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return f=c.publicKey,g=c.secretKey,a.next=3,(0,K.ar)(b,{publicKey:f,secretKey:g},f,null,e,void 0,void 0,K.H_);case 3:return h=a.sent,a.next=6,(0,K.ih)(b,h);case 6:return i=a.sent,a.abrupt("return",i);case 8:case"end":return a.stop()}},a)})),function(a,b,c){return i.apply(this,arguments)});(0,c.Z)(d().mark(function a(b,c,e,f){var g;return d().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return console.log("Creating Mint ".concat(c,"...")),a.next=3,M(b,e,f);case 3:return g=a.sent,a.abrupt("return",g);case 5:case"end":return a.stop()}},a)}));var b,N=a(51438),O=a(29815),k=a(13550),P=a.n(k),Q=a(48764).Buffer;(b=f||(f={}))[b.U8=0]="U8",b[b.U16=1]="U16",b[b.U32=2]="U32",b[b.U64=3]="U64",b[b.U128=4]="U128",b[b.U356=5]="U356",b[b.U512=6]="U512";var R=[1,2,4,8,16,32,54],S=a(48764).Buffer,g=function a(){(0,N.Z)(this,a)};g.string=function(a){var b;return S.concat([(b=Uint8Array).of.apply(b,(0,O.Z)(new(P())(a.length).toArray("le",4))),S.from(a)])},g.number=function(a,b){var c;return b===f.U8?Q.from([a]):Q.from((c=Uint8Array).of.apply(c,(0,O.Z)(new(P())(a).toArray("le",R[b]))))};var T,l,U=a(48764).Buffer,V=a(34155);(0,c.Z)(d().mark(function a(b,c,e,f){var g,h;return d().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,X(b,c,e);case 2:return g=a.sent,a.next=5,Y(b,c,e,f);case 5:return h=a.sent,a.abrupt("return",[g,h]);case 7:case"end":return a.stop()}},a)}));var m,W,X=(l=(0,c.Z)(d().mark(function a(b,c,e){var f,g,h,i;return d().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return f=[U.from(V.env.NEXT_PUBLIC_DISPENSER_PREFIX||"ree-dispenser"),U.from(b),c.toBuffer(),e.toBuffer(),],a.t0=G.Z,a.next=4,w.nh.findProgramAddress(f,c);case 4:return a.t1=a.sent,h=(g=(0,a.t0)(a.t1,2))[0],i=g[1],a.abrupt("return",h);case 9:case"end":return a.stop()}},a)})),function(a,b,c){return l.apply(this,arguments)}),Y=(m=(0,c.Z)(d().mark(function a(b,c,e,f){var g,h,i,j;return d().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return g=[U.from(V.env.NEXT_PUBLIC_DISPENSER_PREFIX||"ree-dispenser"),U.from(b),c.toBuffer(),e.toBuffer(),f.toBuffer(),],a.t0=G.Z,a.next=4,w.nh.findProgramAddress(g,c);case 4:return a.t1=a.sent,i=(h=(0,a.t0)(a.t1,2))[0],j=h[1],a.abrupt("return",i);case 9:case"end":return a.stop()}},a)})),function(a,b,c,d){return m.apply(this,arguments)}),Z=a(48764).Buffer,$=a(34155);(0,c.Z)(d().mark(function a(b,c,e,f){var g,h,i,j;return d().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return g=[Z.from($.env.NEXT_PUBLIC_STAKE_VAULT_PREFIX||"ree-staking"),Z.from(e),b.toBuffer(),c.toBuffer(),f.toBuffer(),],a.t0=G.Z,a.next=4,w.nh.findProgramAddress(g,b);case 4:return a.t1=a.sent,i=(h=(0,a.t0)(a.t1,2))[0],j=h[1],a.abrupt("return",i);case 9:case"end":return a.stop()}},a)}));var _,aa,ab=a(48764).Buffer,ac=a(34155);(0,c.Z)(d().mark(function a(b,c,e){var f,g,h,i;return d().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return f=[ab.from(ac.env.NEXT_PUBLIC_STAKE_VAULT_PREFIX||"ree-staking"),b.toBuffer(),e.toBuffer(),c.toBuffer(),],a.t0=G.Z,a.next=4,w.nh.findProgramAddress(f,b);case 4:return a.t1=a.sent,h=(g=(0,a.t0)(a.t1,2))[0],i=g[1],a.abrupt("return",h);case 9:case"end":return a.stop()}},a)})),(0,c.Z)(d().mark(function a(b,c,e){var f,g,h,i;return d().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return f=[ab.from(ac.env.NEXT_PUBLIC_STAKE_VAULT_PREFIX||"ree-staking"),b.toBuffer(),c.toBuffer(),e.toBuffer(),],a.t0=G.Z,a.next=4,w.nh.findProgramAddress(f,b);case 4:return a.t1=a.sent,h=(g=(0,a.t0)(a.t1,2))[0],i=g[1],a.abrupt("return",h);case 9:case"end":return a.stop()}},a)}));var n,o,ad=(n=(0,c.Z)(d().mark(function a(b,c){var e,f,g,h;return d().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e=w.RG.generate(),a.next=3,(0,K.Mg)(c);case 3:return f=a.sent,g=w.yc.createAccount({fromPubkey:b,lamports:f,newAccountPubkey:e.publicKey,programId:K.H_,space:K.Bl}),h=(0,K.I0)(e.publicKey,0,b,null,K.H_),a.abrupt("return",{mintKeys:e,createMintIx:h,createAccountIx:g});case 7:case"end":return a.stop()}},a)})),function(a,b){return n.apply(this,arguments)}),ae=a(48764).Buffer,af=a(48764).Buffer,ag=(o=(0,c.Z)(d().mark(function a(b,c,e,h,i){var j,k,l,m,n,o,p,q;return d().wrap(function(a){for(var d,s,r,u,t;;)switch(a.prev=a.next){case 0:return j=new w.YW,a.next=3,ad(c,b);case 3:return l=(k=a.sent).mintKeys,m=k.createMintIx,n=k.createAccountIx,j.add(n),j.add(m),a.next=11,I(l.publicKey,e);case 11:return o=a.sent,j.add((d={metadataPda:o,mint:l.publicKey,royaltyOwner:c,mintAuthority:c,newMintAuthority:c,payer:c,updateAuthority:c,programId:e},s=h,new w.Sl({programId:d.programId,keys:[L.writable(d.metadataPda),L.writable(d.mint),L.readonly(d.royaltyOwner),L.signOnly(d.mintAuthority),L.full(d.payer),L.readonly(d.updateAuthority),L.readonly(d.newMintAuthority),L.readonly(w.yc.programId),L.readonly(w.ze),L.readonly(K.H_)],data:ae.concat([g.number(0,f.U8),g.number(1,f.U8),g.number(1,f.U8),g.number(1,f.U8),g.string(s.name),g.string(s.symbol),g.string(s.uri),g.number(s.resaleFee,f.U16)])}))),p="G3rsKbhnAhxrbDFYpvBEGcrtyhpoUggtVosQRKPn8tAa",j.add((r={programId:e,metadataPda:o,payer:c,updateAuthority:c,newRoyalty:new w.nh(p)},u=i,new w.Sl({programId:r.programId,keys:[L.writable(r.metadataPda),L.full(r.payer),L.signOnly(r.updateAuthority),L.readonly(r.newRoyalty),L.readonly(w.yc.programId),L.readonly(w.ze),],data:af.concat([g.number(3,f.U8),g.number(u,f.U16),])}))),a.next=17,(0,K.Am)(l.publicKey,c,!1,K.H_,K._u);case 17:return q=a.sent,j.add((0,K.Ek)(c,q,c,l.publicKey,K.H_,K._u)),j.add((t={mint:l.publicKey,mintAuthority:c,recipient:q,programId:e},new w.Sl({programId:t.programId,keys:[L.writable(t.mint),L.full(t.mintAuthority),L.writable(t.recipient),L.readonly(J.H_),],data:g.number(1,f.U8)}))),a.abrupt("return",{mintKeys:l,tokenAccount:q,tx:j});case 21:case"end":return a.stop()}},a)})),function(a,b,c,d,e){return o.apply(this,arguments)}),ah=function(){var l=(0,v.Rc)().connection,a=(0,v.Os)(),m=a.publicKey,n=a.sendTransaction;a.signTransaction,a.signAllTransactions;var b=(0,x.useState)({name:"",symbol:"",uri:"",resaleFee:""}),g=b[0],o=b[1],e=(0,x.useState)({name:"",symbol:"",uri:"",resaleFee:"",form:""}),h=e[0];e[1];var i,f=(0,x.useState)(!1),j=f[0],p=f[1],k=(i=(0,c.Z)(d().mark(function a(){var b,c,e,f,h,i,j,k,q;return d().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:p(!0),b="Epf86va8B3wDCJ2t47nV6EVT9fVipnnTbLihtLZiL7am",a.next=5;break;case 5:if(m){a.next=8;break}return alert("You've been logged out. reconnect wallet"),a.abrupt("return");case 8:return a.next=10,ag(l,m,new w.nh(b),{name:g.name,symbol:g.symbol,uri:g.uri,resaleFee:parseInt(g.resaleFee)},5);case 10:return e=(c=a.sent).mintKeys,f=c.tokenAccount,h=c.tx,a.next=16,l.getLatestBlockhash("finalized");case 16:return j=(i=a.sent).blockhash,k=i.lastValidBlockHeight,a.next=21,n(h,l,{signers:[e]});case 21:return q=a.sent,a.next=24,l.confirmTransaction({blockhash:j,lastValidBlockHeight:k,signature:q});case 24:console.log(q),alert("NFT minted"),o({name:"",symbol:"",uri:"",resaleFee:""}),p(!1);case 28:case"end":return a.stop()}},a)})),function(){return i.apply(this,arguments)});return(0,u.jsxs)("div",{className:"container mx-auto mt-8",children:[(0,u.jsx)("h1",{className:"text-4xl font-bold",children:"Self Service Drop Creation"}),(0,u.jsx)(F,{query:g,error:h,loading:j,onSubmit:k,onUpdate:function(a,b){o((0,t.Z)((0,s.Z)({},g),(0,r.Z)({},a,b)))}}),(0,u.jsx)(A,{})]})}}},function(a){a.O(0,[870,866,421,774,888,179],function(){var b;return a(a.s=22422)}),_N_E=a.O()}])