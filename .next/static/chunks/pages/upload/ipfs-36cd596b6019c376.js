(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[724],{54003:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/upload/ipfs",function(){return c(28300)}])},74874:function(c,b,a){"use strict";var d=a(26042),e=a(85893);a(67294),b.Z=function(a){return(0,e.jsx)("form",{style:(0,d.Z)({},a.style),className:a.className||"flex flex-col text-center w-full mb-6 max-w-4xl",onSubmit:function(b){b.preventDefault(),a.onSubmit(b)},children:a.children})}},74703:function(c,b,a){"use strict";var d=a(26042),e=a(85893),f=a(67294),g={container:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",minWidth:"200px",borderRadius:"5px",overflow:"hidden",flexWrap:"wrap",flexDirection:"row"},error:{color:"red",fontWeight:"bold",paddingRight:5,paddingLeft:5,paddingTop:2,paddingBottom:2,margin:"0px 0px 2px 0px"}};b.Z=function(a){return(0,e.jsxs)(f.Fragment,{children:[a.error?(0,e.jsx)("p",{style:g.error,children:a.error}):null,(0,e.jsx)("div",{style:(0,d.Z)({},a.style),className:"flex flex-wrap flex-row m-2",children:a.children})]})}},81753:function(c,b,a){"use strict";var d=a(26042),e=a(85893),f=a(67294),g={input:{color:"#000",backgroundColor:"#eee",padding:5,fontSize:18,borderColor:"black",borderWidth:1,width:"100%",flex:1,height:"auto",minWidth:"100px",borderRadius:"0.75rem",margin:"0.50rem 0"},container:{flexDirection:"row",justifyContent:"center",alignItems:"center",width:"100%"},inputError:{color:"#000",backgroundColor:"#eee",padding:5,fontSize:18,borderColor:"red",borderWidth:2,width:"60%",height:"auto",flex:1},error:{color:"red",fontWeight:"bold",paddingRight:5,paddingTop:2,paddingBottom:3,paddingLeft:5}};b.Z=function(a){var h=a.type||"text",b=(0,e.jsx)("input",{style:a.error?(0,d.Z)({},a.errorStyle):(0,d.Z)({},a.style),className:a.error?a.errorClassName||"p-2 m-1 flex-1 border-red-500 border rounded-md":a.className||"p-2 m-1 flex-1 border rounded-md",id:a.id,type:h,placeholder:a.placeholder,onChange:a.onChange,required:a.disabled,value:a.value,accept:a.accept,multiple:a.multiple,disabled:a.disabled,min:a.min,max:a.max}),c=(0,e.jsx)("p",{style:g.error,children:a.error});return a.label?(0,e.jsxs)(f.Fragment,{children:[(0,e.jsxs)("div",{style:g.container,children:[(0,e.jsx)("label",{htmlFor:a.id,children:a.label}),b]}),a.error?c:null]}):(0,e.jsxs)(f.Fragment,{children:[b,a.error?c:null]})}},28300:function(d,b,a){"use strict";a.r(b),a.d(b,{default:function(){return y}});var e=a(47568),f=a(14924),g=a(26042),h=a(69396),c=a(34051),i=a.n(c),j=a(85893),k=a(67294),l=a(14428),m=a(74874),n=a(51436),o=a(92814),p=a(81753),q=function(a){var d=a.onUpdate,c=a.id,b=a.value;return a.required,(0,j.jsxs)("div",{style:(0,g.Z)({},a.style),className:a.className,children:[(0,j.jsx)("img",{src:b.url}),(0,j.jsx)("button",{type:"button",className:"bg-red-400 py-1 rounded-md mt-1",onClick:function(a){d(c,{url:""})},style:{display:b.url?"initial":"none"},children:(0,j.jsx)(o.G,{icon:n.g82,size:"2x",color:"white"})}),(0,j.jsx)(p.Z,{placeholder:"No Image Added",value:"",id:c,type:"file",onChange:function(a){if(a.target.files&&a.target.files[0]){var b=a.target.files[0];d(c,{file:b,url:URL.createObjectURL(b)})}},style:{color:"transparent"},required:!0})]})},r=a(74703),s=function(a){var b=a.query,d=(a.error,a.loading,a.onSubmit),e=a.onUpdate,c=function(a){e(a.target.id,a.target.value)};return(0,j.jsxs)(m.Z,{onSubmit:d,children:[(0,j.jsxs)(r.Z,{children:[(0,j.jsx)(p.Z,{placeholder:"NFT Name",id:"name",value:b.name,required:!0,onChange:c}),(0,j.jsx)(p.Z,{placeholder:"Symbol",id:"symbol",value:b.symbol,required:!0,onChange:c})]}),(0,j.jsx)(q,{id:"img",className:"my-1",value:b.img,required:!0,onUpdate:a.onUpdate}),(0,j.jsx)(l.Z,{children:"Upload Image"})]})},t=function(a){return(0,j.jsx)(o.G,{icon:n.LM3,spin:!0,style:(0,g.Z)({fontSize:20,margin:"0 auto"},a.style),className:a.className||"",color:"white"})},u=function(a){return a.showBackdrop?(0,j.jsxs)("div",{className:"w-full h-full fixed z-50 left-0 top-0 bg-gray-900 bg-opacity-90 items-center justify-center",children:[a.message?(0,j.jsx)("h1",{className:"text-4xl font-bold text-white my-6",children:a.message}):null,a.showLoading?(0,j.jsx)(t,{}):null]}):null},v=a(16245),w={name:"The Future",symbol:"FDROP",description:"A real city in the Metaverse, built by & for YOU!",externalUrl:"http://dropopolis.com",properties:{files:[{type:"IMAGE",uri:"https://www.dropopolis.io/dropopolis_home/background_e.png"}],creators:[{address:"G3rsKbhnAhxrbDFYpvBEGcrtyhpoUggtVosQRKPn8tAa",share:100}]},attributes:[{name:"background",value:"transparent"},{name:"environment",value:"future city"}],mint:"TST32LiaGNVeUwVid7ssRMgibtRjuGmZaEYT8W8S4PGr"},x="https://ipfs.infura.io/ipfs",y=function(){var o=(0,v.Ue)({url:"https://ipfs.infura.io:5001/api/v0"}),a=(0,k.useState)({img:{url:""},name:"Test NFT 1",symbol:"TEST"}),l=a[0],p=a[1],b=(0,k.useState)({img:{url:""},name:"",symbol:"",form:""}),m=b[0];b[1];var n,c=(0,k.useState)(!1),d=c[0],q=c[1],r=(n=(0,e.Z)(i().mark(function a(){var b,c,e,f,g;return i().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!(!l.img.file||d)){a.next=2;break}return a.abrupt("return");case 2:return a.prev=2,console.log("uploading ipfs"),q(!0),a.next=7,o.add(l.img.file);case 7:var h;return b=a.sent,alert("IPFS Image Upload Complete (1/2)"),c=JSON.stringify(w,null,2),a.next=12,o.add(c);case 12:e=a.sent,alert("Metadata Upload Complete (2/2)"),p({img:{url:""},name:"",symbol:""}),q(!1),f="".concat(x,"/").concat(b.path),g="".concat(x,"/").concat(e.path),console.log(f),console.log(g),console.log(b),console.log(e),a.next=29;break;case 24:a.prev=24,a.t0=a.catch(2),alert(a.t0),console.log(a.t0),q(!1);case 29:case"end":return a.stop()}},a,null,[[2,24]])})),function(){return n.apply(this,arguments)});return(0,j.jsxs)("div",{className:"container mx-auto mt-8",children:[(0,j.jsx)(u,{showBackdrop:d,showLoading:!0,message:"Uploading Image"}),(0,j.jsx)("h1",{className:"text-4xl font-bold",children:"Upload Images To IPFS"}),(0,j.jsx)(s,{query:l,error:m,loading:d,onSubmit:function(a){a.preventDefault(),r()},onUpdate:function(a,b){p((0,h.Z)((0,g.Z)({},l),(0,f.Z)({},a,b)))}})]})}},63897:function(){}},function(a){a.O(0,[698,774,888,179],function(){var b;return a(a.s=54003)}),_N_E=a.O()}])